<!DOCTYPE html>
<html>
  <head>
    <title>Pattern Generation</title>
    <meta name="viewport" content="width-device-width, initial-scale=1" />
    <link rel="stylesheet" href="style.css"/>
  </head>

  <body>
    <div class="wrapper"></div>
    <form id="settings">
      <label for="rows">Rows:</label>
      <input type="number" name="rows" value="10" min="1" max="50">

      <label for="cols">Cols:</label>
      <input type="number" name="cols" value="10" min="1" max="50">

    </form>



    <script>
      const wrapper = document.querySelector(".wrapper");
      const settingsPanels = document.querySelectorAll("input[type=number]")
      const patternSettings = {cols:10, rows:10}


      function changeHandler(){
        console.log(this.name, this.value);
        if(this.value < 1)this.value=1;
        if(this.value > 50)this.value=50;
        patternSettings[this.name] = this.value;

        document.documentElement.style.setProperty(`--${this.name}`, 100/this.value+'%')
        fillScreen();
      }

      function fillScreen(){
        // clear current divs
        wrapper.innerHTML="";

        for(let col =0; col<patternSettings.cols; col++){
          for(let row =0; row<patternSettings.rows; row++){
            const panel = document.createElement("div");
            panel.classList.add("panel");
            wrapper.append(panel);
          }
        }

      }

      settingsPanels.forEach( setting => {
        setting.addEventListener("change", changeHandler);
      })

      fillScreen();
    </script>

  </body>
</html>