<!DOCTYPE html>
<html>
  <head>
    <title>Hovering Lights</title>
    <meta name="viewport" content="width-device-width, initial-scale=1"/>
    <link rel="stylesheet" href="style.css">
  </head>

  <body>
    <div class="wrapper">
      <h1>HOVER LIGHTS</h1>
      <label class="switch">
        <input id="fillColor" type="checkbox">
        <span class="slider round"></span>
      </label>

      <div class="blockWraper">
      </div>
    </div>
    
  </body>

  <script>
    const wrapper = document.querySelector(".blockWraper");
    const colorSlider = document.querySelector("#fillColor");
    const colors = ['#e74c3c', '#8e44ad', '#3498db', '#e67e22', '#2ecc71']
    let fillColor = false;


    function addColor(e){
      let color = fillColor?colors[Math.floor(Math.random() * colors.length)] : "#dddddd";
      this.style.background = color;
      this.style.boxShadow = `.25vmin .25vmin .5vmin rgba(0,0,0,.05), -.25vmin -.25vmin 1px rgba(255,255,255,.025), 0 0 2px ${color}, 0 0 10px ${color}`;
    }

    function removeColor(e){
      this.style.background = 'transparent';
      this.style.boxShadow = `.25vmin .25vmin .5vmin rgba(0,0,0,.2), -.25vmin -.25vmin 1px rgba(255,255,255,.1)`;
    }

    for (let i=0; i<400; i++){
      const block = document.createElement("div");
      block.classList.add("block")
      wrapper.appendChild(block);

      block.addEventListener("mouseover", addColor);
      block.addEventListener("mouseout", removeColor);
    }

    colorSlider.addEventListener("change", (e) => {fillColor = e.target.checked});

  </script>

</html>